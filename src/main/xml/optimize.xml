<?xml version="1.0" encoding="UTF-8" ?>
<project name="ant-build-commons-optimize">
    <description>
        This build steps provides all different kinds of optimizations to the
        project, before it is packaged. This may include javascript compile
        and/or minifying, css minification, image optimization and such.
    </description>

    <!--
        Import the parent target file.
    -->
    <import file="test.xml" />

    <!--
        Shortcut for target "optimize:optimize"
    -->
    <target name="optimize"
            depends="optimize:optimize" />

    <!--
        Public entrypoint for this buildstep
    -->
    <target name="optimize:optimize"
            depends="test:test,
                     -optimize:initialize,
                     -optimize:before~hook,
                     -optimize:main~hook,
                     -optimize:after~hook" />

    <!--
         Initialize the optimize step

         This initialization simple creates the basic working environment it
         does not copy over the source tree to the optimize tree
    -->
    <target name="-optimize:initialize">
        
    </target>

    <!--
        Extension points provided by this module
    -->

    <!--
        This extension point will be called right before the optimize is started.
        
        The optimization dir will already have been created, but it will not
        have been filled with a copy of the srcdir
    -->
    <extension-point name="-optimize:before~hook" />

    <!--
        This extension point allows to register any operation to be executed on
        the source dir copy.
        
        This extension point will usually be used to register different
        optimization steps.
    -->
    <extension-point name="-optimize:main~hook" />

    <!--
         This extension point will be executed after all optimization sub tasks
         have been finished.
    -->
    <extension-point name="-optimize:after~hook" />

</project>
