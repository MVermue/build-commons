<?xml version="1.0" encoding="UTF-8" ?>
<project name="ABC:Environment:PHP:Php:Common"
         xmlns:abc="http://abc.tools.qafoo.com/abc.xsd"
         xmlns:internal="http://abc.tools.qafoo.com/abc-internal.xsd">

    <abc:macrodef name="environment-php">
        <attribute name="dir" />
        <attribute name="failonerror" default="true" />
        <element name="arguments" implicit="yes" />
        <sequential>
            <abc:exec executable="${abc.environment.php.php.executable}"
                      failonerror="@{failonerror}"
                      dir="@{dir}">
                <arguments />
            </abc:exec>
        </sequential>
    </abc:macrodef>

    <abc:macrodef name="environment-php-apply">
        <attribute name="dir" />
        <attribute name="failonerror" default="true" />
        <attribute name="parallel" default="false" />
        <attribute name="visible-stdout" default="false" />
        <attribute name="visible-stderr" default="false" />
        <attribute name="apply-taskname" default="php" />
        <element name="arguments" implicit="yes" />
        <sequential>
            <abc:apply apply-taskname="@{apply-taskname}"
                       executable="${abc.environment.php.php.executable}"
                       failonerror="@{failonerror}"
                       parallel="@{parallel}"
                       visible-stdout="@{visible-stdout}"
                       visible-stderr="@{visible-stderr}"
                       verbose="true">
                <arguments />
            </abc:apply>
        </sequential>
    </abc:macrodef>
</project>
